<!--delete image_posts#index view once feature is fully implemented-->

<h1>Image Posts:</h1>
<%= link_to "Post New Image", new_image_post_path %>



<% @image_posts.each do |post| %>
<h3><%= link_to "#{post.author.name}", profile_path(post.author.profile.id) %></h3>
        <p class="post-date"><%= post.created_at.strftime("%d %B %Y") %></p>
        <%= image_tag url_for(post.body.variant(resize_to_fit: [100, 100]).processed) %>
        <%= link_to "Change Image", edit_image_post_path(post) %>
        <%= link_to "Delete Image", image_post_path(post), data: { turbo_method: :delete } %>

        <%#= link_to "Add Comment", new_post_comment_path(post_id: post.id) %>
        <% if post.comments %>
          <% post.comments.each do |comment| %>
            <p><%= link_to "#{comment.commenter.name}", profile_path(comment.commenter.profile.id) %>: <%= comment.body %></p>
            <%# if comment.commenter == current_user %>
            <%#= link_to "Edit Comment", edit_image_post_comment_path(post, comment)%>
            <%#= link_to "Delete Comment", image_post_comment_path(post, comment), data: { "turbo-method": :delete } %>
            <%# end %>
          <% end %>
        <% end %>
<% end %>